import{Ct as e,Dt as t,Et as n,G as r,H as i,K as a,O as o,Ot as s,Tt as c,U as l,W as u,X as d,c as f,et as p,g as m,gt as h,ht as g,st as _,wt as v,xt as y}from"./app-CjIxn-P4.js";var b=m(`__VUEPRESS_GITHUB_REPO__`,{});function x(e,t){let n=i(()=>{let[t=``,n=``]=v(e).split(`/`);return{owner:t,name:n}}),r=i(()=>v(t)??`github`),a=y(null),o=y(!1);async function s(){let{owner:e,name:t}=v(n);if(!e||!t)return;let i=`${r.value===`github`?``:`${r.value}:`}${e}/${t}`,s=b.value[i];if(s?.info?.name&&Date.now()-s.updatedAt<=864e5){a.value=s.info,o.value=!0;return}o.value=!1;try{let n=await fetch(`https://api.pengzhanbo.cn/${r.value}/repo/${e}/${t}`).then(e=>e.json());o.value=!0,n.convertStars=S(n.stars),n.convertForks=S(n.forks),a.value=n,b.value[i]={info:n,updatedAt:Date.now()}}catch(e){o.value=!0,console.error(`github repo error:`,e)}}return g(n,s,{immediate:!0}),{data:a,loaded:o}}function S(e){return e<1e3?e:`${(e/1e3).toFixed(1)}k`}var C={class:`repo-name`},w={class:`repo-link`},T=[`href`,`title`],E={class:`repo-desc`},D={class:`repo-info`},O={key:0},k=[`title`],A=[`title`],j=[`title`],M=f(d({inheritAttrs:!1,__name:`RepoCard`,props:{repo:{},fullname:{type:Boolean,default:void 0},provider:{default:`github`}},setup(i){let d=i,{loaded:f,data:m}=x(e(d,`repo`),e(d,`provider`));return(e,d)=>(_(),u(c(o),null,{default:h(()=>[c(f)&&c(m)?.name?(_(),a(`div`,p({key:0,class:`vp-repo-card`},e.$attrs),[l(`p`,C,[l(`span`,{class:n(`vpi-${i.provider}-repo`)},null,2),l(`span`,w,[l(`a`,{href:c(m).url,target:`_blank`,rel:`noopener noreferrer`,class:`no-icon`,title:c(m).fullName},s(i.fullname||c(m).ownerType===`Organization`&&i.fullname===void 0?c(m).fullName:c(m).name),9,T)]),l(`span`,{class:n([`repo-visibility`,{archived:c(m).archived}])},s(c(m).visibility+(c(m).template?` Template`:``))+s(c(m).archived?` archive`:``),3)]),l(`p`,E,s(c(m).description),1),l(`div`,D,[c(m).language?(_(),a(`p`,O,[l(`span`,{class:`repo-language`,style:t({"background-color":c(m).languageColor})},null,4),l(`span`,null,s(c(m).language),1)])):r(``,!0),l(`p`,{title:`Github Stars: ${c(m).stars}`},[d[0]||=l(`span`,{class:`vpi-github-star`},null,-1),l(`span`,null,s(c(m).convertStars),1)],8,k),l(`p`,{title:`Github Forks: ${c(m).forks}`},[d[1]||=l(`span`,{class:`vpi-github-fork`},null,-1),l(`span`,null,s(c(m).convertForks),1)],8,A),c(m).license?(_(),a(`p`,{key:1,title:`Github License: ${c(m).license.name}`},[d[2]||=l(`span`,{class:`vpi-github-license`},null,-1),l(`span`,null,s(c(m).license.name),1)],8,j)):r(``,!0)])],16)):r(``,!0)]),_:1}))}}),[[`__scopeId`,`data-v-e3b8cb06`]]);export{M as t};