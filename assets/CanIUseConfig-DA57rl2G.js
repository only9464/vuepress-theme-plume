import{B as e,E as t,F as n,G as r,H as i,K as a,L as o,Ot as s,P as c,R as l,St as u,Tt as d,U as f,W as p,X as m,Y as ee,_t as h,bt as g,c as _,d as v,dt as y,ft as b,g as x,h as S,ht as C,it as w,k as T,lt as E,st as D,vt as O,xt as k}from"./app-CjIxn-P4.js";import{t as te}from"./CodeViewer-BGwAoqL_.js";var A=`https://caniuse.pengzhanbo.cn/features.json`,j={"/":{past0:`不显示旧版本`,pastIndex:`旧版本（当前版本 - {index}）`,future0:`不显示未来版本`,futureIndex:`未来版本（当前版本 + {index}）`},"/en/":{past0:`Do not show old versions`,pastIndex:`Old version (current version - {index})`,future0:`Do not show future versions`,futureIndex:`Future version (current version + {index})`}},M=[{label:`iframe`,value:``},{label:`image`,value:`image`}];function ne(){let e=T(),t=k(`2`),n=k(`1`),r=k(``);return{past:t,future:n,pastList:i(()=>[{label:j[e.value].past0||``,value:`0`},...Array.from({length:5}).fill(0).map((t,n)=>({label:j[e.value]?.pastIndex?.replace(`{index}`,`${n+1}`)??``,value:`${n+1}`}))]),futureList:i(()=>[{label:j[e.value].future0||``,value:`0`},...Array.from({length:3}).fill(0).map((t,n)=>({label:j[e.value]?.futureIndex?.replace(`{index}`,`${n+1}`)??``,value:`${n+1}`}))]),embedType:r,embedTypeList:g(M)}}function N(e,n){let r=x(`plume:caniuse-feature-list`,[]),a=x(`plume:caniuse-feature-list-updated`,Date.now());w(async()=>{typeof document>`u`||r.value.length&&Date.now()-a.value<2592e5||(r.value=await fetch(A).then(e=>e.json())||r.value||[])});let o=k(``),s=k(!1),c=k(),l=k(null);C(()=>[r.value,s.value],()=>{s.value||(c.value=r.value)},{immediate:!0}),v(n,()=>{s.value=!1},{ignore:[e]}),S(e,`input`,t(()=>{l.value=null,o.value=e.value?.value||``,o.value?(c.value=r.value.filter(e=>e.label.includes(o.value)||e.value.includes(o.value)),c.value.length===1&&(l.value=c.value[0])):c.value=r.value},500)),S(e,`focus`,()=>{s.value=!0});function u(t){l.value=t,s.value=!1,e.value&&(e.value.value=t.label)}return{featureList:c,isFocus:s,onSelect:u,feature:i(()=>l.value?.value||``)}}function P({feature:e,embedType:t,past:n,future:r}){return{output:i(()=>{let i=`@[caniuse`;return t.value&&(i+=` ${t.value}`),(n.value!==`-2`||r.value!==`1`)&&(n.value===`0`&&r.value===`0`?i+=`{0}`:i+=`{-${n.value},${r.value}}`),i+=`](`,e.value&&(i+=e.value),`${i})`}),rendered:i(()=>!e.value||!t.value?``:F(e.value))}}function F(e){let t=`https://caniuse.bitsofco.de/image/`;return`<p><picture>
    <source type="image/webp" srcset="${t}${e}.webp">
    <source type="image/png" srcset="${t}${e}.png">
    <img src="${t}${e}.jpg" alt="${`Data on support for the ${e} feature across the major browsers from caniuse.com`}" width="100%">
  </picture></p>`}var I={class:`caniuse-config-wrapper`},L=[`for`],R={class:`feature-input`},z=[`id`,`placeholder`],B=[`onClick`,`onKeydown`],V={class:`caniuse-form-item`},H={class:`caniuse-embed-type`},U=[`for`],W=[`id`,`value`],G={key:0,class:`caniuse-form-item`},K={class:`caniuse-browser-version`},q=[`for`],J=[`id`],Y=[`value`],X=[`for`],re=[`id`],ie=[`value`],Z={class:`caniuse-output`},ae=[`innerHTML`],Q=_(m({__name:`CanIUseConfig`,setup(t){let m={"/":{"select-feature":`选择特性：`,placeholder:`输入特性`,"embed-type":`嵌入方式：`,output:`输出：`,"browser-version":`浏览器版本：`,"no-recommend":`不推荐`},"/en/":{"select-feature":`Select feature:`,placeholder:`Input feature`,"embed-type":`Embed type: `,output:`Output:`,"browser-version":`Browser version: `,"no-recommend":`Not recommended`}},g=u(null),_=u(null),v=b(),x=T(),S=i(()=>m[x.value]),{feature:C,featureList:w,onSelect:k,isFocus:A}=N(_,g),{past:j,pastList:M,future:F,futureList:Q,embedType:$,embedTypeList:oe}=ne(),{output:se,rendered:ce}=P({feature:C,embedType:$,past:j,future:F});return(t,i)=>{let u=y(`Badge`),m=y(`CanIUseViewer`);return D(),a(`div`,I,[f(`form`,null,[f(`label`,{class:`caniuse-form-item`,for:`caniuse-feature-input-${d(v)}`},[f(`span`,null,s(S.value[`select-feature`]),1),f(`div`,R,[f(`input`,{id:`caniuse-feature-input-${d(v)}`,ref_key:`inputEl`,ref:_,class:`feature-input__input`,type:`text`,name:`feature`,placeholder:S.value.placeholder},null,8,z),i[3]||=f(`span`,{class:`vpi-chevron-down`},null,-1),h(f(`ul`,{ref_key:`listEl`,ref:g,class:`feature-list`},[(D(!0),a(e,null,E(d(w),e=>(D(),a(`li`,{key:e.value},[f(`button`,{type:`button`,class:`feature-list-item`,onClick:t=>d(k)(e),onKeydown:l(t=>d(k)(e),[`enter`])},s(e.label),41,B)]))),128))],512),[[o,d(A)]])])],8,L),f(`div`,V,[f(`span`,null,s(S.value[`embed-type`]),1),f(`div`,H,[(D(!0),a(e,null,E(d(oe),(e,t)=>(D(),a(`label`,{key:e.label,for:`caniuse-embed-${d(v)}-${t}`},[h(f(`input`,{id:`caniuse-embed-${d(v)}-${t}`,"onUpdate:modelValue":i[0]||=e=>O($)?$.value=e:null,type:`radio`,name:`embedType`,value:e.value},null,8,W),[[c,d($)]]),f(`span`,null,s(e.label),1),e.value===`image`?(D(),p(u,{key:0,type:`warning`,text:S.value[`no-recommend`]},null,8,[`text`])):r(``,!0)],8,U))),128))])]),d($)?r(``,!0):(D(),a(`div`,G,[f(`span`,null,s(S.value[`browser-version`]),1),f(`div`,K,[f(`label`,{for:`caniuse-past-${d(v)}`},[h(f(`select`,{id:`caniuse-past-${d(v)}`,"onUpdate:modelValue":i[1]||=e=>O(j)?j.value=e:null,name:`past`},[(D(!0),a(e,null,E(d(M),e=>(D(),a(`option`,{key:e.value,value:e.value},s(e.label),9,Y))),128))],8,J),[[n,d(j)]])],8,q),i[4]||=f(`span`,null,`-`,-1),f(`label`,{for:`caniuse-future-${d(v)}`},[h(f(`select`,{id:`caniuse-future-${d(v)}`,"onUpdate:modelValue":i[2]||=e=>O(F)?F.value=e:null,name:`future`},[(D(!0),a(e,null,E(d(Q),e=>(D(),a(`option`,{key:e.value,value:e.value},s(e.label),9,ie))),128))],8,re),[[n,d(F)]])],8,X)])]))]),f(`div`,Z,[f(`h4`,null,s(S.value.output),1),ee(te,{lang:`md`,content:d(se)},null,8,[`content`])]),d($)===`image`?(D(),a(`div`,{key:0,innerHTML:d(ce)},null,8,ae)):d(C)?(D(),p(m,{key:1,feature:d(C),past:d(j),future:d(F)},null,8,[`feature`,`past`,`future`])):r(``,!0)])}}}),[[`__scopeId`,`data-v-05fa4a97`]]);export{Q as t};